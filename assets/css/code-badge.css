
figure.highlight, div.highlighter-rouge, div.highlight { position: relative; }
figure.highlight > figcaption { display: none !important; } /* 하단 언어 캡션 숨김 */

/* 타이트 여백 + 상단 패딩(배지/버튼 공간) */
figure.highlight, div.highlighter-rouge { margin-block: .15rem; border-radius: 8px; }
figure.highlight > pre, div.highlighter-rouge > pre { padding: 1.4rem .5rem .5rem !important; }
figure.highlight > pre, div.highlighter-rouge > pre, pre { margin:0; border-radius:8px; }

/* 언어 배지 (pill) */
.code-badge{
  position:absolute; top:.45rem; left:.6rem; z-index:10;
  font:450 9px/1.1 ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  color:#e6e6e6; pointer-events:none; padding:.1rem .25rem;
}
.code-badge::before{
  content:""; position:absolute; inset:-3px -6px; z-index:-1;
  border-radius:999px; background:rgba(91, 86, 86, 0.521);
  border:1px solid rgba(43, 43, 43, 0.716); box-shadow:0 4px 10px rgba(0,0,0,.18);
}

/* Copy / Wrap 버튼 */
.copy-btn{
  position:absolute; top:.3rem; z-index:10;
  font-size:9px; padding:.2rem .2rem; border-radius:4px;
  border:1px solid #555; background:#3a3a3a; color:#e0e0e0; cursor:pointer; transition:.2s;
}
.copy-btn{ right:.6rem; }
.copy-btn:hover{ background:#4a4a4a; border-color:#777; color:#fff; }
.copy-btn:active{ transform:scale(.98); }

/* 코드 내부 패딩/줄간격 */
pre code { display:block; padding:0 !important; margin:0 !important; line-height:1.35; }

/* --- 표시 모드 --- */
/* 기본(스크롤) */
.code-scroll figure.highlight pre,
.code-scroll div.highlighter-rouge pre { white-space: pre; overflow-x: auto; }
/* 단어 단위 줄바꿈 */
.code-wrap figure.highlight pre,
.code-wrap div.highlighter-rouge pre {
  white-space: pre-wrap; word-break: break-word; overflow-wrap: anywhere; overflow-x: hidden;
}
/* 글자 단위 줄바꿈 */
.code-wrap-char figure.highlight pre,
.code-wrap-char div.highlighter-rouge pre,
.code-wrap-char .highlight td.code pre {
  white-space: pre-wrap; word-break: break-all; overflow-wrap: anywhere; overflow-x: hidden;
}

/* Rouge 라인번호 테이블 대응(줄바꿈 모드들) */
.code-wrap figure.highlight .highlight table,
.code-wrap-char figure.highlight .highlight table { width:100%; border-collapse:collapse; }
.code-wrap figure.highlight .highlight td,
.code-wrap-char figure.highlight .highlight td { padding:0; vertical-align:top; }
.code-wrap figure.highlight .highlight td.code pre,
.code-wrap-char figure.highlight .highlight td.code pre { white-space: pre-wrap; }